{
  "model": "claude-opus-4-6",
  "customInstructions": "Follow the project's CLAUDE.md guidelines. Use concurrent execution for all operations. Prioritize v3 implementation with security-first development, 15-agent swarm coordination, phased performance optimization, and cross-platform helper automation.",
  "env": {
    "CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS": "1",
    "CLAUDE_FLOW_V3_ENABLED": "true",
    "CLAUDE_FLOW_HOOKS_ENABLED": "true"
  },
  "permissions": {
    "allow": [
      "Bash(npx @claude-flow*)",
      "Bash(npx claude-flow*)",
      "Bash(node .claude/*)",
      "Bash(npm run:*)",
      "Bash(npm test:*)",
      "Bash(git status)",
      "Bash(git diff:*)",
      "Bash(git log:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git push)",
      "Bash(git config:*)",
      "Bash(git tag:*)",
      "Bash(git branch:*)",
      "Bash(git checkout:*)",
      "Bash(git stash:*)",
      "Bash(jq:*)",
      "Bash(node:*)",
      "Bash(which:*)",
      "Bash(pwd)",
      "Bash(ls:*)",
      "Bash(npx:*)",
      "mcp__claude-flow__*",
      "mcp__ruv-swarm__*",
      "mcp__flow-nexus__*"
    ],
    "deny": [
      "Read(./.env)",
      "Read(./.env.*)",
      "Bash(rm -rf /)"
    ]
  },
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "node .claude/helpers/hook-handler.cjs pre-bash",
            "timeout": 5000
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Write|Edit|MultiEdit",
        "hooks": [
          {
            "type": "command",
            "command": "node .claude/helpers/hook-handler.cjs post-edit",
            "timeout": 10000
          }
        ]
      }
    ],
    "UserPromptSubmit": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "node .claude/helpers/hook-handler.cjs route",
            "timeout": 10000
          }
        ]
      }
    ],
    "SessionStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "node .claude/helpers/hook-handler.cjs session-restore",
            "timeout": 15000
          },
          {
            "type": "command",
            "command": "node .claude/helpers/auto-memory-hook.mjs import",
            "timeout": 8000
          }
        ]
      }
    ],
    "SessionEnd": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "node .claude/helpers/hook-handler.cjs session-end",
            "timeout": 10000
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "node .claude/helpers/auto-memory-hook.mjs sync",
            "timeout": 10000
          }
        ]
      }
    ],
    "PreCompact": [
      {
        "matcher": "manual",
        "hooks": [
          {
            "type": "command",
            "command": "node .claude/helpers/hook-handler.cjs compact-manual"
          },
          {
            "type": "command",
            "command": "node .claude/helpers/hook-handler.cjs session-end",
            "timeout": 5000
          }
        ]
      },
      {
        "matcher": "auto",
        "hooks": [
          {
            "type": "command",
            "command": "node .claude/helpers/hook-handler.cjs compact-auto"
          },
          {
            "type": "command",
            "command": "node .claude/helpers/hook-handler.cjs session-end",
            "timeout": 6000
          }
        ]
      }
    ],
    "SubagentStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "node .claude/helpers/hook-handler.cjs status",
            "timeout": 3000
          }
        ]
      }
    ],
    "TeammateIdle": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "node .claude/helpers/hook-handler.cjs post-task",
            "timeout": 5000
          }
        ]
      }
    ],
    "TaskCompleted": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "node .claude/helpers/hook-handler.cjs post-task",
            "timeout": 5000
          }
        ]
      }
    ]
  },
  "attribution": {
    "commit": "Co-Authored-By: claude-flow <ruv@ruv.net>",
    "pr": "\ud83e\udd16 Generated with [claude-flow](https://github.com/ruvnet/claude-flow)"
  },
  "claudeFlow": {
    "version": "3.0.0",
    "enabled": true,
    "modelPreferences": {
      "default": "claude-opus-4-6",
      "routing": "claude-haiku-4-5-20251001"
    },
    "agentTeams": {
      "enabled": true,
      "teammateMode": "auto",
      "taskListEnabled": true,
      "mailboxEnabled": true,
      "coordination": {
        "autoAssignOnIdle": true,
        "trainPatternsOnComplete": true,
        "notifyLeadOnComplete": true,
        "sharedMemoryNamespace": "agent-teams"
      },
      "hooks": {
        "teammateIdle": {
          "enabled": true,
          "autoAssign": true,
          "checkTaskList": true
        },
        "taskCompleted": {
          "enabled": true,
          "trainPatterns": true,
          "notifyLead": true
        }
      }
    },
    "swarm": {
      "topology": "hierarchical-mesh",
      "maxAgents": 15
    },
    "memory": {
      "backend": "hybrid",
      "enableHNSW": true,
      "learningBridge": { "enabled": true },
      "memoryGraph": { "enabled": true },
      "agentScopes": { "enabled": true }
    },
    "neural": {
      "enabled": true
    },
    "daemon": {
      "autoStart": true,
      "workers": [
        "map",
        "audit",
        "optimize",
        "consolidate",
        "testgaps",
        "ultralearn",
        "deepdive",
        "document",
        "refactor",
        "benchmark"
      ],
      "schedules": {
        "audit": { "interval": "1h", "priority": "critical" },
        "optimize": { "interval": "30m", "priority": "high" },
        "consolidate": { "interval": "2h", "priority": "low" },
        "document": { "interval": "1h", "priority": "normal" },
        "deepdive": { "interval": "4h", "priority": "normal" },
        "ultralearn": { "interval": "1h", "priority": "normal" }
      }
    },
    "learning": {
      "enabled": true,
      "autoTrain": true,
      "patterns": ["coordination", "optimization", "prediction"],
      "retention": {
        "shortTerm": "24h",
        "longTerm": "30d"
      }
    },
    "adr": {
      "autoGenerate": true,
      "directory": "/docs/adr",
      "template": "madr"
    },
    "ddd": {
      "trackDomains": true,
      "validateBoundedContexts": true,
      "directory": "/docs/ddd"
    },
    "security": {
      "autoScan": true,
      "scanOnEdit": true,
      "cveCheck": true,
      "threatModel": true
    }
  },
  "agents": {
    "source": ".claude/agents",
    "customAgents": []
  },
  "skills": {
    "source": ".claude/commands",
    "enabled": true
  },
  "statusLine": {
    "type": "command",
    "command": "node .claude/helpers/statusline.cjs"
  },
  "mcpServers": {
    "claude-flow": {
      "command": "node",
      "args": [
        "/workspaces/claude-flow/v3/@claude-flow/cli/bin/cli.js",
        "mcp",
        "start"
      ]
    }
  },
  "enabledMcpjsonServers": [
    "claude-flow",
    "ruv-swarm"
  ]
}
